<div style="float: left; width: 40%; padding-top: 2%; padding-left: 7%">

  <div style="float: left; width: 40%; padding-left: 20%;">

    <form (ngSubmit)="editProfile()" [formGroup]="form">

      <mat-form-field appearance="outline" style="display: block">
        <mat-label> Email</mat-label>
        <input [formControl]="form.controls.email" id="email" matInput name="email" placeholder="Email">
        <mat-error *ngIf="form.controls.email.touched && form.controls.email.errors?.required">
          Ovo polje ne sme biti prazno!
        </mat-error>
        <mat-error *ngIf="form.controls.email.touched && form.controls.email.errors?.email">
          Email nije validan!
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label> Ime</mat-label>
        <input [formControl]="form.controls.firstName" id="firstName" matInput name="firstName" placeholder="Ime">
        <mat-error *ngIf="form.controls.firstName.touched && form.controls.firstName.errors?.required">
          Ovo polje ne sme biti prazno!
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label> Prezime</mat-label>
        <input [formControl]="form.controls.lastName" id="lastName" matInput name="lastName" placeholder="Prezime">
        <mat-error *ngIf="form.controls.lastName.touched && form.controls.lastName.errors?.required">
          Ovo polje ne sme biti prazno!
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label> Adresa</mat-label>
        <input [formControl]="form.controls.address" [readonly]="true" id="address" matInput name="address"
               placeholder="Adresa">
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label> Prosecna ocena</mat-label>
        <input [formControl]="form.controls.averageRate" [readonly]="true" id="avgRate" matInput name="avgRate"
               placeholder="Prosecna ocena">
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label>Kategorije</mat-label>
        <mat-select (selectionChange)="selectionChange($event, 'category')" [formControl]="form.controls.category">
          <mat-option *ngFor="let category of categories" [value]="category.id">{{category.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label>Profesije</mat-label>
        <mat-select (selectionChange)="selectionChange($event, 'profession')" [formControl]="form.controls.profession">
          <mat-option *ngFor="let profession of professions" [value]="profession.id">{{profession.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" style="display: block">
        <mat-label>Usluge</mat-label>
        <mat-select [formControl]="form.controls.selectedTrades" multiple>
          <mat-option *ngFor="let trade of trades" [value]="trade.name">{{trade.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <button [disabled]="form.invalid" id="saveButton" mat-raised-button
              style="margin-top: 5%;float:right;background-color: green" type="submit">Izmeni profil
      </button>

    </form>

  </div>

</div>

<div style="padding-right: 3%;float: right;padding-top: 2%;width: 50%;">

  <app-map (DragEnd)="dragEnd($event)" (RadiusChanged)="radiusChanged($event)"
           [draggable]="true"
           [latitude]="currentLocation.latitude" [longitude]="currentLocation.longitude"
           [radius]="currentLocation.radius" [showCircle]="true">
  </app-map>

</div>

<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  color="#fff"
  size="medium"
  type="ball-atom">
</ngx-spinner>
